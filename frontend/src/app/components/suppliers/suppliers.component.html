<div class="d-flex flex-column w-100 p-4 content--standard entitylist--standard">
    <div class="d-flex w-100 mb-4">
        <h1 class="heading--desktop04">Suppliers</h1>
        <div class="ms-md-auto"></div>
        <button (click)="remove()" *ngIf="hasBulkAction" class="btn btn--danger text--desktop02 px-4">
            <i class="fa fa-times me-2"></i>
            Remove selected
        </button>
        <button (click)="create()" class="btn btn--standard text--desktop02 px-4 ms-3">
            <i class="fa fa-plus me-2"></i>
            Create supplier
        </button>
    </div>
    <p-table [value]="suppliers" [paginator]="false" responsiveLayout="scroll" currentPageReportTemplate="{{pagination.count}} entries">
        <ng-template pTemplate="header">
            <tr>
                <th style="width: 100px">
                    <button class="btn btn--null" (click)="search()">
                        <i class="fa fa-search me-2"></i>
                        Search
                    </button>
                </th>
                <th class="text--desktop02 text-center">
                    <span class="p-float-label w-100">
                        <input autocomplete="off" (change)="search()" autocomplete="off" [(ngModel)]="filter.name" id="name" class="input--standard w-100" type="text" pInputText> 
                        <label for="name">Name</label>
                    </span>    
                </th>
                <th class="text--desktop02 text-center">
                    <span class="p-float-label w-100">
                        <input autocomplete="off" (change)="search()" autocomplete="off" [(ngModel)]="filter.dni" id="dni" class="input--standard w-100" type="text" pInputText> 
                        <label for="dni">Dni</label>
                    </span> 
                </th>
                <th class="text--desktop02 text-center">
                    <span class="p-float-label w-100">
                        <input autocomplete="off" (change)="search()" autocomplete="off" [(ngModel)]="filter.phone1" id="phone1" class="input--standard w-100" type="text" pInputText> 
                        <label for="phone1">Phone</label>
                    </span> 
                </th>
                <th class="text--desktop02 text-center">
                    <span class="p-float-label w-100">
                        <input autocomplete="off" (change)="search()" autocomplete="off" [(ngModel)]="filter.status" id="status" class="input--standard w-100" type="text" pInputText> 
                        <label for="status">Status</label>
                    </span> 
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-supplier>
            <tr class="cursor-pointer">
                <td>
                    <p-checkbox [binary]="true" value="1" [(ngModel)]="supplier.$_select"></p-checkbox>
                </td>
                <td (dblclick)="read(supplier.$guid)">
                    <a>
                        {{supplier.firstname}} {{supplier.lastname}}
                    </a>
                </td>
                <td (dblclick)="read(supplier.$guid)">
                    <a>
                        {{supplier.dni}}
                    </a>
                </td>
                <td (dblclick)="read(supplier.$guid)">
                    <a>
                        {{supplier.phone1}}
                    </a>
                </td>
                <td (dblclick)="read(supplier.$guid)">
                    <a>
                        {{supplier.status}}
                    </a>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
            <tr class="table__empty">
                <td [attr.colspan]="5">
                    <span>
                        No records found
                    </span>
                </td>
            </tr>
        </ng-template>
    </p-table>
    <div class="d-flex w-100 mt-3" *ngIf="pagination.count">
        <span class="text--desktop01 semibold ms-auto">
            {{pagination.count}} results
        </span>
    </div>
    <div class="d-flex w-100 place-content-center mt-2">
        <app-paginator (search)="search($event)" [pagination]="pagination"></app-paginator>
    </div>
</div>